<%
  model = Message.model_name.human

  action = @message.id.nil? ? 'new' : 'edit'
  legend = t("app.title.#{action}_model", :model => model)

%>
<%= form_for(@message) do |f| %>
  <% if @message.errors.any? %>
    <div id="error_explanation">
      <h2><%= t('activerecord.errors.template.header', :model => model, :count => @message.errors.count) %></h2>
      <ul>
      <% @message.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <%= field_set_tag legend do %>
    <div class="field">
      <%= f.label :title %>
      <%= f.text_field :title %>
    </div>
        <div class="field">
      <%= f.label :text %>
      <%= f.text_area :text %>
    </div>

    <div class="button">
      <%= f.submit t(@message.id.nil? ? 'app.action.create' : 'app.action.update') %>
    </div>
    <div class="hint">
      <%= t('app.hint.markdown_syntax').html_safe %>
    </div>
  <% end %>
<% end %>
